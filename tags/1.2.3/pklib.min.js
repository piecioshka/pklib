/* pklib JavaScript library | http://pklib.com/licencja.html */
var pklib={VERSION:"1.2.3"};"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){"use strict";var e=this,n=[].slice,r=n.apply(arguments,[1]);return function(){return e.apply(t,r.concat(n.apply(arguments,[0])))}}),function(t){"use strict";function e(t,e){var n,r=["application/xml","text/xml"],i="responseText";t.cache&&(v[t.url]=e),n=e.getResponseHeader("Content-Type"),d.array.in_array(n,r)&&(i="responseXML"),t.done.call(null,e[i]),e=null}function n(t,e){e._run_error_handler||(t.error(t,e),e._run_error_handler=!0)}function r(t,n){var r=0;n.readyState===h&&n.status!==m&&(void 0!==n.status&&(r=n.status),clearTimeout(n.ontimeout),n.ontimeout&&delete n.ontimeout,r>=200&&300>r||304===r?e(t,n):i(t,n))}function i(t,e){e.abort(),n(t,e)}function o(t,e){n(t,e)}function a(){var t;try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){throw new Error("pklib.ajax.load: can't create XMLHttpRequest object")}}return t}function s(){var t;try{t=new XMLHttpRequest}catch(e){t=a()}return t}function c(t,e){var n,r=t.headers;if(null!==r)for(n in r)r.hasOwnProperty(n)&&e.setRequestHeader(n,r[n])}function l(t,e){e.ontimeout=setTimeout(function(){o(t,e)},t.timeout)}function u(t){return v[t.url]}function f(){return{type:"get",async:!0,cache:!1,url:null,params:null,timeout:p,headers:{},done:function(){},error:function(){}}}var d=t.pklib=t.pklib||{},p=3e4,m=0,h=4,v=[];d.ajax={load:function(t){var e=null,n=f();if(n=d.object.mixin(n,t),n.type=n.type.toUpperCase(),d.common.assert(null!==n.url,"pklib.ajax.load: @url is not defined"),n.cache&&u(n))r.call(null,n,v[n.url]);else{e=s(),e.onreadystatechange=r.bind(null,n,e);try{e.open(n.type,n.url,n.async)}catch(o){return i(n,e),e}c(n,e),l(n,e);try{e.send(n.params)}catch(a){return i(n,e),e}}return e},stop:function(t){t.abort(),t=null}}}(this),function(t){"use strict";function e(t){return null!==t&&"object"==typeof t&&"[object Array]"===s.call(t)&&"number"==typeof t.length&&"function"==typeof t.slice}function n(t,e){var n,r=e.length;for(n=0;r>n;++n)if(e[n]===t)return!0;return!1}function r(t,e){var n,r=e.length;for(n=0;r>n;++n)if(e[n]===t)return n;return null}function i(t){var e,r,i=[],o=t.length;for(e=0;o>e;++e)r=t[e],n.call(null,r,i)||i.push(r);return i}function o(t){var e,i,o=[].slice.call(arguments,1),a=o.length;for(e=0;a>e;++e)i=o[e],n(i,t)&&t.splice(r(i,t),1);return t}var a=t.pklib=t.pklib||{},s=Object.prototype.toString;a.array={is_array:e,in_array:n,index:r,unique:i,remove:o}}(this),function(t){"use strict";var e=t.pklib=t.pklib||{};e.aspect=function(t,n,r){var i,o=this,a=e.common.assert;return a("function"==typeof t,"pklib.aspect: @func: not {Function}"),a("function"==typeof n,"pklib.aspect: @asp: not {Function}"),r=r||"before",function(){return"before"===r&&n.call(o),i=t.apply(o,arguments),"after"===r&&(i=n.call(o)),i}}}(this),function(t){"use strict";function e(t,e){if(t!==!0)throw new Error(e)}function n(t,e){e=e||0,setTimeout(t,e)}function r(t,n){var r,i=100;e("function"==typeof t,"pklib.common.checking: @condition: not {Function}"),e("function"==typeof n,"pklib.common.checking: @callback: not {Function}"),t()?n():r=setInterval(function(){t()&&(clearInterval(r),n())},i)}var i=t.pklib=t.pklib||{};i.common={assert:e,defer:n,checking:r}}(this),function(t){"use strict";function e(t){if(void 0===t)return null;t+="=";var e,n,r=i.cookie.split(";"),o=r.length;for(e=0;o>e;++e){for(n=r[e];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null}function n(t,n,r){var o="",a=new Date;return n=n||null,void 0!==r&&(a.setTime(a.getTime()+1e3*60*60*24*r),o="; expires="+a.toUTCString()),i.cookie=t+"="+encodeURIComponent(n)+o+"; path=/",e(t)}function r(t){return n(t,void 0,-1)}var i=t.document,o=t.pklib=t.pklib||{};o.cookie={create:n,get:e,remove:r}}(this),function(t){"use strict";function e(t,e,n){var r=o.common.assert,i=o.dom.is_element,a="pklib.css."+n;r("string"==typeof t,a+": @css_class: not {string}"),r(i(e),a+": @element: not {HTMLElement}")}function n(t,n){e(t,n,"has_class");var r=" "+t+" ";return(" "+n.className+" ").replace(a," ").indexOf(r)>-1}function r(t,r){e(t,r,"add_class");var i=r.className;n(t,r)||(i.length?i+=" "+t:i=t),r.className=i}function i(t,n){e(t,n,"remove_class");var r=new RegExp("(\\s"+t+")|("+t+"\\s)|"+t,"i");n.className=o.string.trim(n.className.replace(r,""))}var o=t.pklib=t.pklib||{},a=/[\n\t\r]/g;o.css={add_class:r,remove_class:i,has_class:n}}(this),function(t){"use strict";function e(t,n){if(t)for(n(t),t=t.firstChild;t;)e(t,n),t=t.nextSibling}function n(t){return t&&t.nodeType&&t.nodeName&&"[object Node]"===g.call(t)}function r(t){var e=["[object HTMLCollection]","[object NodeList]"];return b.array.in_array(g.call(t),e)}function i(t){return t&&t.nodeType===y.ELEMENT_NODE||!1}function o(t){return b.common.assert(i(t),"pklib.dom.is_visible: @node is not HTMLElement"),"none"!==t.style.display&&"hidden"!==t.style.visibility&&0!==t.offsetWidth&&0!==t.offsetHeight}function a(t){return v.getElementById(t)}function s(t,e){return(e||v).getElementsByTagName(t)}function c(t,n){var r=[];return n=n||v,e(n,function(e){i(e)&&b.css.has_class(t,e)&&r.push(e)}),r}function l(t){b.common.assert(i(t),"pklib.dom.index: @node is not HTMLElement");var e,n=b.dom.parent(t),r=b.dom.children(n),o=r.length;for(e=0;o>e;++e)if(r[e]===t)return e;return null}function u(t){b.common.assert(i(t),"pklib.dom.children: @node is not HTMLElement");var e,n=[],r=t.childNodes,o=r.length;for(e=0;o>e;++e)i(r[e])&&n.push(r[e]);return n}function f(t,e){return i(t)?e.appendChild(t):b.string.is_string(t)&&(e.innerHTML+=t),t}function d(){var t,e=null,n=null,r=[].slice.call(arguments),o=r.length;for(t=0;o>t;++t)e=r[t],i(e)&&(n=e.parentNode,n.removeChild(e))}function p(t){var e;for(b.common.assert(i(t),"pklib.dom.prev: @node is not HTMLElement");;){if(e=t.previousSibling,void 0===e||null===e||e.nodeType===y.ELEMENT_NODE)break;t=e}return e}function m(t){var e;for(b.common.assert(i(t),"pklib.dom.next: @node is not HTMLElement");;){if(e=t.nextSibling,void 0===e||null===e||e.nodeType===y.ELEMENT_NODE)break;t=e}return e}function h(t){var e;for(b.common.assert(i(t),"pklib.dom.parent: @node is not HTMLElement");;){if(e=t.parentNode,void 0===e||null===e||e.nodeType===y.ELEMENT_NODE)break;t=e}return e}var v=t.document,b=t.pklib=t.pklib||{},g=Object.prototype.toString,y={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12};b.dom={is_node:n,is_node_list:r,is_element:i,is_visible:o,by_id:a,by_tag:s,by_class:c,index:l,children:u,insert:f,remove:d,prev:p,next:m,parent:h}}(this),function(t){"use strict";function e(t,e,n){void 0===t.events&&(t.events={});var r=t.events[e];void 0===r&&(t.events[e]=[]),t.events[e].push(n),t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!1):t["on"+e]=n}function n(t,e){var n,r,i,o,a;if(void 0===t.events&&(t.events={}),t.detachEvent?n="detachEvent":t.removeEventListener&&(n="removeEventListener"),void 0===n)delete t["on"+e];else if(r=t.events[e],void 0!==r)for(i=r.length,o=0;i>o;++o)a=r[o],t[n](e,a),delete t.events[e]}function r(t,e){return void 0===t.events&&(t.events={}),t.events[e]}function i(t,e){var n,r,i;if(void 0===t.events&&(t.events={}),n=t.events[e],void 0!==n)for(r=n.length,i=0;r>i;++i)n[i].call(t,n[i])}var o=t.pklib=t.pklib||{};o.event={add:e,remove:n,get:r,trigger:i}}(this),function(t){"use strict";function e(t,e){function n(){"function"==typeof e&&e(o)}function i(){("loaded"===o.readyState||"complete"===o.readyState)&&(o.onreadystatechange=null,n())}var o=r.createElement("script");o.type="text/javascript",o.src=t,void 0===o.readyState?o.onload=n:o.onreadystatechange=i,void 0===r.head&&(r.head=r.getElementsByTagName("head")[0]),r.head.appendChild(o)}function n(t,r){var a;if("string"==typeof t)a=t,e(a,function(t){"function"==typeof r&&r(t)});else{if(!i.array.is_array(t))throw new Error("pklib.file.loadjs: @files not {string} or {Array}");o.length||(o=i.object.mixin(o,t)),a=t.shift(),void 0===a?"function"==typeof r&&(r({src:o[o.length-1]}),o=[]):e(a,function(){n(t,r)})}}var r=t.document,i=t.pklib=t.pklib||{},o=[];i.file={loadjs:n}}(this),function(t){"use strict";function e(t){return t&&"[object Object]"===s.call(t)&&"object"==typeof t&&"function"==typeof t.hasOwnProperty&&"function"==typeof t.isPrototypeOf}function n(t,r){var i,s,c,l;if(o(t)&&o(r))for(s=r.length,i=0;s>i;++i)c=r[i],a(c,t)||t.push(c);else for(l in r)r.hasOwnProperty(l)&&(t[l]=e(t[l])?n(t[l],r[l]):r[l]);return t}function r(t){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return!n}var i=t.pklib=t.pklib||{},o=i.array.is_array,a=i.array.in_array,s=Object.prototype.toString;i.object={is_object:e,mixin:n,is_empty:r}}(this),function(t){"use strict";function e(t){return o[t]=new Date}function n(t){return o[t]=new Date-o[t],new Date((new Date).getTime()+o[t]).getTime()}function r(t){return o[t]}var i=t.pklib=t.pklib||{},o={};i.profiler={start:e,stop:n,get_time:r}}(this),function(t){"use strict";function e(t){return"string"==typeof t}function n(t){return e(t)&&/^[a-zA-Z]$/.test(t)}function r(t){return t.replace(/^\s+|\s+$/g,"")}function i(t){var e=t.toLowerCase().replace(/\s/gm,"-");return e=e.replace(/[^a-zA-Z0-9\-]/gm,function(t){switch(t.charCodeAt(0)){case 261:return String.fromCharCode(97);case 281:return String.fromCharCode(101);case 243:return String.fromCharCode(111);case 347:return String.fromCharCode(115);case 322:return String.fromCharCode(108);case 378:case 380:return String.fromCharCode(122);case 263:return String.fromCharCode(99);case 324:return String.fromCharCode(110);default:return""}})}function o(t){return t.substr(0,1).toUpperCase()+t.substring(1,t.length)}function a(t){return t.replace(/[A-ZĘÓĄŚŁŻŹĆŃ]/g,function(t){return"-"+t.toLowerCase()})}function s(t){if(m.common.assert("string"==typeof t,"pklib.string.strip_tags: param @source is not a string"),t&&0!==t.length){var e=p.createElement("div");return e.innerHTML=t,e.textContent||e.innerText}return t}function c(t){for(var e,n,r,i;-1!==t.indexOf("-");)e=t.indexOf("-"),n=t.substr(0,e),r=t.substr(e+1,1).toUpperCase(),i=t.substring(e+2,t.length),t=n+r+i;return t}function l(t,e,n){if(m.common.assert("string"==typeof t,"pklib.string.slice: param @source is not a string"),t.length<e)return t;var i,o=t.slice(0,e);return" "===t[e]?o+"...":" "===o[e-1]?r(o)+"...":n||(i=o.lastIndexOf(" "),-1===i)?o+"...":o.slice(0,i)+"..."}function u(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%{"+n+"}","ig"),e[n]));return t}function f(t,e,n){var r,i=t.toString();for(r=i.length;e>r;++r)i=n+i;return i}function d(t,e,n){var r,i=t.toString();for(r=i.length;e>r;++r)i+=n;return i}var p=t.document,m=t.pklib=t.pklib||{};m.string={is_string:e,is_letter:n,trim:r,slug:i,capitalize:o,delimiter_separated_words:a,strip_tags:s,camel_case:c,slice:l,format:u,lpad:f,rpad:d}}(this),function(t){"use strict";function e(t,e){var n=null,r=null,a=o.ui.size;return o.common.assert(o.dom.is_element(t),"pklib.ui.center: @element: not {HTMLElement}"),e===i.body?(n=(Math.max(a.window("width"),a.document("width"))-a.object(t,"width"))/2,r=(Math.max(a.window("height"),a.document("height"))-a.object(t,"height"))/2):(n=(a.window("width")-a.object(t,"width"))/2,r=(a.window("height")-a.object(t,"height"))/2),t.style.left=n+"px",t.style.top=r+"px",t.style.position="absolute",[n,r]}function n(t,e){var n=null,r=null,a=o.ui.size;return e===i.body?(n=Math.max(a.window("width"),a.document("width")),r=Math.max(a.window("height"),a.document("height")),"msie"===o.browser.get_name()&&(n-=20)):(n=a.object(e,"width"),r=a.object(e,"height")),t.style.width=n,t.style.height=r,[n,r]}function r(t,e){var n=null;e?n=setInterval(function(){i.body.scroll_top-=5,i.body.scroll_top<=0&&clearInterval(n)},1):i.body.scroll_top=t+"px"}var i=t.document,o=t.pklib=t.pklib||{};o.ui={center:e,maximize:n,scroll_to:r}}(this),function(t){"use strict";function e(e,n){var o,s=r.createElement("div"),c=s.style;a.container=r.body,a=i.object.mixin(a,e),a.style.filter="alpha(opacity="+100*parseFloat(a.style.opacity)+")",s.setAttribute("id",i.ui.glass.obj_id);for(o in a.style)a.style.hasOwnProperty(o)&&(c[o]=a.style[o]);return a.container.appendChild(s),i.ui.maximize(s,a.container),i.event.add(t,"resize",function(){i.ui.glass.close(),i.ui.glass.show(e,n),i.ui.maximize(s,a.container)}),"function"==typeof n&&n(),s}function n(e){var r=i.dom.by_id(i.ui.glass.obj_id),o=!1;return i.event.remove(t,"resize"),null!==r&&(r.parentNode.removeChild(r),n(e),o=!0),"function"==typeof e&&e(),o}var r=t.document,i=t.pklib=t.pklib||{},o="pklib-glass-wrapper",a={container:null,style:{position:"absolute",left:0,top:0,background:"#000",opacity:.5,zIndex:1e3}};i.ui.glass={obj_id:o,show:e,close:n}}(this),function(t){"use strict";function e(e,n){var o,s=r.createElement("img"),c=s.style;a.container=r.body,a=i.object.mixin(a,e),s.setAttribute("id",i.ui.loader.obj_id),s.setAttribute("src",a.src);for(o in a.style)a.style.hasOwnProperty(o)&&(c[o]=a.style[o]);a.center&&(i.ui.center(s,a.container),i.event.add(t,"resize",function(){i.ui.center(s,a.container)})),a.container.appendChild(s),"function"==typeof n&&n(),s=null}function n(t){var e=i.dom.by_id(i.ui.loader.obj_id),r=!1;return null!==e&&(e.parentNode.removeChild(e),n(t),r=!0),"function"==typeof t&&t(),r}var r=t.document,i=t.pklib=t.pklib||{},o="pklib-loader-wrapper",a={src:"",container:null,style:{width:31,height:31,zIndex:1010},center:!0};i.ui.loader={obj_id:o,show:e,close:n}}(this),function(t){"use strict";function e(e,n){var o,s=r.createElement("div"),c=s.style;a.container=r.body,a=i.object.mixin(a,e),s.setAttribute("id",i.ui.message.obj_id);for(o in a.style)a.style.hasOwnProperty(o)&&(c[o]=a.style[o]);return i.dom.insert(i.ui.message.content,s),a.container.appendChild(s),i.ui.center(s,a.container),i.event.add(t,"resize",function(){i.ui.center(s,a.container)}),"function"==typeof n&&n(),s}function n(t){var e=i.dom.by_id(i.ui.message.obj_id),r=!1;return null!==e&&(e.parentNode.removeChild(e),n(t),r=!0),"function"==typeof t&&t(),r}var r=t.document,i=t.pklib=t.pklib||{},o="pklib-message-wrapper",a={container:null,style:{width:300,height:300,zIndex:1010}};i.ui.message={obj_id:o,content:null,show:e,close:n}}(this),function(t){"use strict";function e(t){var e;return o.common.assert("string"==typeof t,"pklib.ui.size.window: @name: not {string}"),t=o.string.capitalize(t),e=i.documentElement["client"+t],"CSS1Compat"===i.compatMode&&e||i.body["client"+t]||e}function n(t){var e,n,r,a,s;return o.common.assert("string"==typeof t,"pklib.ui.size.document: @name: not {string}"),t=o.string.capitalize(t),e=i.documentElement["client"+t],n=i.body["scroll"+t],r=i.documentElement["scroll"+t],a=i.body["offset"+t],s=i.documentElement["offset"+t],Math.max(e,n,r,a,s)}function r(t,e){o.common.assert("string"==typeof e,"pklib.ui.size.object: @name: not {string}"),o.common.assert(o.dom.is_element(t),"pklib.ui.size.object: @obj: not {HTMLElement}"),e=o.string.capitalize(e);var n=t["client"+e],r=t["scroll"+e],i=t["offset"+e];return Math.max(n,r,i)}var i=t.document,o=t.pklib=t.pklib||{};o.ui.size={window:e,document:n,object:r}}(this),function(t){"use strict";function e(e){var n,r,i,o,a,s={};for(a="string"==typeof e?e.match(/\?(.*)/)[0]||"":t.location.search,"?"===a.substr(0,1)&&(a=a.substr(1)),a=a.split("&"),i=a.length,n=0;i>n;++n)o=a[n],o.length>0&&(r=o.split("="),s[r[0]]=r[1]);return s}function n(e,n){var r,i,o,a;for(r="string"==typeof n?n.match(/\?(.*)/)[0]||"":t.location.search,"?"===r.substr(0,1)&&(r=r.substr(1)),r=r.split("&"),a=r.length,i=0;a>i;++i)if(o=r[i].split("="),o[0]===e)return o[1];return null}var r=t.pklib=t.pklib||{};r.url={get_params:e,get_param:n}}(this),function(t){"use strict";function e(e){var n="";e.originalTarget&&"object"==typeof e.originalTarget&&void 0!==e.originalTarget.href?n=e.originalTarget.href:e.toElement&&"object"==typeof e.toElement&&void 0!==e.toElement.href?n=e.toElement.href:e.srcElement&&"object"==typeof e.srcElement&&void 0!==e.srcElement&&(n=e.srcElement.href),t.open(n);try{e.preventDefault()}catch(r){t.event.returnValue=!1}return!1}function n(t){a.dom.is_element(t)&&(s(t,"focus",function(){t.value===t.defaultValue&&(t.value="")}),s(t,"blur",function(){""===t.value&&(t.value=t.defaultValue)}))}function r(t){var n,r,i,c;for(t=t||o,c=a.dom.by_tag("a",t),r=c.length,n=0;r>n;++n)i=c[n],"outerlink"===i.rel&&s(i,"click",e.bind(i))}function i(e,n){var r;void 0!==e&&(n=n||"Sure?",s(e,"click",function(e){if(r=t.confirm(n),!r){try{e.preventDefault()}catch(i){t.event.returnValue=!1}return!1}return!0}))}var o=t.document,a=t.pklib=t.pklib||{},s=a.event.add;a.utils={ascii:{letters:{lower:[113,119,101,114,116,121,117,105,111,112,97,115,100,102,103,104,106,107,108,122,120,99,118,98,110,109],upper:[81,87,69,82,84,89,85,73,79,80,65,83,68,70,71,72,74,75,76,90,88,67,86,66,78,77]}},action:{clearfocus:n,outerlink:r,confirm:i}}}(this);